{"version":3,"sources":["ApiService.js","components/MovieList.js","components/MovieDetail.js","components/MovieForm.js","App.js","reportWebVitals.js","components/Auth.js","index.js"],"names":["API","body","fetch","process","method","headers","JSON","stringify","then","resp","json","mov_id","token","Authorization","catch","error","console","log","MovieList","props","useCookies","movieClicked","movie","evt","movies","map","className","onClick","title","icon","faEdit","editClicked","faTrash","deleteMovie","id","removeClicked","MovieDetail","mov","useState","highlighted","setHighlighted","highlightRate","high","getDetails","updateMovie","Fragment","description","faStar","avg_rating","no_of_ratings","Array","e","i","onMouseEnter","onMouseLeave","rate","eve","stars","MovieForm","setTitle","setDescription","useEffect","isDisabled","length","type","placeholder","value","onChange","target","updatedMovie","disabled","createMovie","newMovieCreated","App","deleteToken","setMovies","selectedMovie","setSelectedMovie","editedMovie","setEditedMovie","window","location","href","loadMovie","faSignOutAlt","newMovies","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Auth","username","setUsername","password","setPassword","isLoginView","setIsLoginView","setToken","loginClicked","loginUser","checkToken","registerUser","Router","StrictMode","CookiesProvider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a61fff8.chunk.js","sourcesContent":["class API {\r\n  static loginUser(body) {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/auth/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((resp) => resp.json());\r\n  }\r\n\r\n  static registerUser(body) {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/api/users/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    }).then((resp) => resp.json());\r\n  }\r\n\r\n\r\n  static updateMovie(mov_id, body, token) {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((resp) => resp.json()) //convert to json\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  static createMovie(body, token) {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${token}`,\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((resp) => resp.json()) //convert to json\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  static deleteMovie(mov_id, token) {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/api/movies/${mov_id}/`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${token}`,\r\n      },\r\n    })\r\n      .then((resp) => resp.json()) //convert to json\r\n      .catch((error) => console.log(error));\r\n  }\r\n}\r\n\r\nexport default API;\r\n","import React from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport API from \"../ApiService\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst MovieList = (props) => {\r\n  const [token] = useCookies([\"mr-token\"]);\r\n\r\n  const movieClicked = (movie) => (evt) => {\r\n    props.movieClicked(movie);\r\n  };\r\n\r\n  const editClicked = (movie) => {\r\n    props.editClicked(movie);\r\n  };\r\n\r\n  const removeClicked = (movie) => {\r\n    API.deleteMovie(movie.id, token[\"mr-token\"])\r\n      .then(() => props.removeClicked(movie))\r\n      .catch((error) => console.log(error));\r\n    props.removeClicked(movie);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {props.movies &&\r\n        props.movies.map((movie) => {\r\n          return (\r\n            <div key={movie.id} className=\"movie-item\">\r\n              <h2 onClick={movieClicked(movie)}>{movie.title}</h2>\r\n              <FontAwesomeIcon\r\n                icon={faEdit}\r\n                onClick={() => editClicked(movie)}\r\n              />\r\n              <FontAwesomeIcon\r\n                icon={faTrash}\r\n                onClick={() => removeClicked(movie)}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieList;\r\n","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst MovieDetail = (props) => {\r\n  const [token] = useCookies([\"mr-token\"]);\r\n\r\n  let mov = props.movies;\r\n\r\n  const [highlighted, setHighlighted] = useState(-1);\r\n\r\n  const highlightRate = (high) => (evt) => {\r\n    setHighlighted(high);\r\n  };\r\n\r\n  const rateClicked = (rate) => (eve) => {\r\n    fetch(`http://127.0.0.1:8000/api/movies/${mov.id}/rate_movie/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${token[\"mr-token\"]}`,\r\n      },\r\n      body: JSON.stringify({\r\n        stars: rate + 1,\r\n      }),\r\n    })\r\n      .then(() => getDetails())\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const getDetails = () => {\r\n    fetch(`http://127.0.0.1:8000/api/movies/${mov.id}/`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Token ${token[\"mr-token\"]}`,\r\n      },\r\n    })\r\n      .then((resp) => resp.json()) //convert to json\r\n      .then((resp) => props.updateMovie(resp))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.movies ? (\r\n        <div>\r\n          <h1> {props.movies.title}</h1>\r\n          <p>{props.movies.description}</p>\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            className={props.movies.avg_rating > 0 ? \"orange\" : \"\"}\r\n          />\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            className={props.movies.avg_rating > 1 ? \"orange\" : \"\"}\r\n          />\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            className={props.movies.avg_rating > 2 ? \"orange\" : \"\"}\r\n          />\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            className={props.movies.avg_rating > 3 ? \"orange\" : \"\"}\r\n          />\r\n          <FontAwesomeIcon\r\n            icon={faStar}\r\n            className={props.movies.avg_rating > 4 ? \"orange\" : \"\"}\r\n          />\r\n          ({props.movies.no_of_ratings})\r\n          <div className=\"rate-container\">\r\n            <h2>Rate it</h2>\r\n            {[...Array(5)].map((e, i) => {\r\n              return (\r\n                <FontAwesomeIcon\r\n                  key={i}\r\n                  icon={faStar}\r\n                  className={highlighted > i - 1 ? \"purple\" : \"\"}\r\n                  onMouseEnter={highlightRate(i)}\r\n                  onMouseLeave={highlightRate(-1)}\r\n                  onClick={rateClicked(i)}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MovieDetail;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../ApiService\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\n// ************************start***********************\r\nconst MovieForm = (props) => {\r\n  // ******************************constants**********************\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [token] = useCookies([\"mr-token\"]);\r\n\r\n  useEffect(() => {\r\n    setTitle(props.movie.title);\r\n    setDescription(props.movie.description);\r\n  }, [props.movie]); //whenever props .movie changes it takes action\r\n\r\n  //   ************************functions********************\r\n\r\nconst isDisabled = title.length === 0 || description.length === 0;\r\n\r\n  const updateClicked = () => {\r\n    console.log(\"update here\");\r\n    API.updateMovie(props.movie.id, { title, description }, token[\"mr-token\"])\r\n      .then((resp) => props.updatedMovie(resp))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const createClicked = () => {\r\n    console.log(\"update here\");\r\n    API.createMovie({ title, description }, token[\"mr-token\"])\r\n      .then((resp) => props.newMovieCreated(resp))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  //   ****************************rendering******************\r\n  return (\r\n    <React.Fragment>\r\n      {props.movie ? (\r\n        <div>\r\n          <label>Title</label>\r\n          <br />\r\n          {/* ***************************Title***************** */}\r\n\r\n          <input\r\n            id=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"Title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n          <br />\r\n          <label>Description</label>\r\n          <br />\r\n\r\n          {/* **********************************description *************** */}\r\n          <textarea\r\n            value={description}\r\n            id=\"description\"\r\n            type=\"text\"\r\n            placeholder=\"Description\"\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n          <br />\r\n          {/* ******************** button******************** */}\r\n          {props.movie.id ? (\r\n            <button onClick={updateClicked} disabled={isDisabled}> Update</button>\r\n          ) : (\r\n            <button onClick={createClicked} disabled={isDisabled}>Create</button>\r\n          )}\r\n        </div>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MovieForm;\r\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport MovieList from \"./components/MovieList\";\nimport MovieDetail from \"./components/MovieDetail\";\nimport MovieForm from \"./components/MovieForm\";\nimport { useCookies } from 'react-cookie';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\n\n\nfunction App() {\nconst [token, setToken, deleteToken] = useCookies(['mr-token']);\n\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState();\n  const [editedMovie, setEditedMovie] = useState(null);\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_URL}/api/movies/`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token['mr-token']}`,\n      },\n    })\n      .then((resp) => resp.json()) //convert to json\n      .then((resp) => setMovies(resp))\n      .catch((error) => console.log(error));\n  });\n\n\n  useEffect(() => {\n      \n    console.log(token)\n     if(!token['mr-token']) window.location.href = '/';\n }, [token])\n \n  \n  const removeClicked = (movie) =>{\n    const newMovies = movies.filter(mov => mov.id !== movie.id); \n    setMovies(newMovies);\n    \n  }\n  const editClicked = (movie) => {\n    setEditedMovie(movie);\n    setSelectedMovie(null);\n  };\n\n  const loadMovie = (movie) => {\n    setSelectedMovie(movie);\n    setEditedMovie(null);\n\n  };\n\n  \n  const updatedMovie = (movie) => {\n    const newMovies= movies.map(mov => {\n      if (mov.id === movie.id) {\n        return movie;\n      }\n      return mov;\n    })\n    setMovies(newMovies)\n  };\n\n  const newMovie =() => {\n    setEditedMovie({title: '', description: ''});\n    setSelectedMovie(null);\n  }\n\n  const newMovieCreated = movie => {\n    const newMovies = [...movies, movie]\n    setMovies(newMovies);\n\n\n  }\n\nconst logoutUser = () =>{\ndeleteToken(['mr-token']);\n}\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Movie Rater</h1>\n        </header>\n      <FontAwesomeIcon icon={faSignOutAlt} onClick={logoutUser} />\n      <div className=\"layout\">\n        <div>\n        <MovieList\n          movies={movies}\n          movieClicked={loadMovie}\n          editClicked={editClicked}\n          removeClicked={removeClicked}\n        />\n        <button onClick={newMovie}> New Movie</button>\n</div>\n        <MovieDetail movies={selectedMovie} updateMovie={loadMovie} />\n        { editedMovie ? \n        <MovieForm movie={editedMovie} updatedMovie={updatedMovie} newMovieCreated={newMovieCreated}/>:null}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useState, useEffect } from \"react\";\r\nimport API from \"../ApiService\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\n\r\nconst Auth = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [isLoginView, setIsLoginView] = useState(true);\r\n\r\n  const [token, setToken] = useCookies([\"mr-token\"]);\r\n\r\n  useEffect(() => {\r\n    if (token[\"mr-token\"]) window.location.href = \"/movies\";\r\n  }, [token]);\r\n\r\nconst checkToken= (resp) =>{\r\n  if(resp.token){\r\n    setToken(\"mr-token\", resp.token)\r\n  }\r\n}\r\n  const loginClicked = () => {\r\n    API.loginUser({ username, password })\r\n      .then((resp) => checkToken(resp))\r\n\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const registerClicked = () => {\r\n    console.log(\"register\")\r\n    API.registerUser({ username, password })\r\n    .then(() => loginClicked())\r\n\r\n      .catch((error) => console.log(error));\r\n  };\r\n  const isDisabled = username.length === 0 || password.length === 0;\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n<header className=\"App-header\">\r\n           {isLoginView ? <h1>Login User</h1> : <h1>Register</h1>}\r\n\r\n      </header>\r\n      <div className=\"login-container\">\r\n      {/* ..................Username................... */}\r\n      <label>Username</label>\r\n      <br />\r\n\r\n      <input\r\n        id=\"username\"\r\n        type=\"text\"\r\n        placeholder=\"username\"\r\n        // value={username}\r\n        onChange={(e) => setUsername(e.target.value)}\r\n      />\r\n      <br />\r\n\r\n      {/* ...................Password................ */}\r\n      <label>Password</label>\r\n      <br />\r\n\r\n      <input\r\n        id=\"password\"\r\n        type=\"password\"\r\n        placeholder=\"password\"\r\n        // value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n      <br />\r\n\r\n      {isLoginView \r\n      ? <button onClick={loginClicked} disabled={isDisabled}>Login</button> \r\n      : \r\n      <button onClick={registerClicked} disabled={isDisabled}>Register</button>\r\n      }\r\n      \r\n\r\n      {isLoginView ? (\r\n        <p onClick={() => setIsLoginView(false)} >\r\n          {\" \"}\r\n          You don't have an account, register here.\r\n        </p>\r\n      ) : (\r\n        <p onClick={() => setIsLoginView(true)} >\r\n          {\" \"}\r\n          You already have an account, login here.\r\n        </p>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Auth from './components/Auth'\nimport {Route, BrowserRouter} from 'react-router-dom';\nimport { CookiesProvider } from 'react-cookie';\n// import { render } from '@testing-library/react';\n\n\nfunction Router(){\n\n\n  return(\n<React.StrictMode>\n  <CookiesProvider>\n    <BrowserRouter>\n        <Route exact path =\"/\" component={Auth} />\n        <Route exact path =\"/movies\" component={App} />\n    </BrowserRouter>\n    </CookiesProvider>\n  </React.StrictMode>\n  )\n}\n\nReactDOM.render(\n  <Router />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}